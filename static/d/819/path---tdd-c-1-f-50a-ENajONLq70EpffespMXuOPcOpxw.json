{"data":{"site":{"siteMetadata":{"title":"Vincent's page","author":"Vincent Cordobes"}},"markdownRemark":{"id":"ceb2e689-1eda-51a5-b000-afd6f3ab10be","html":"<p>Do you remember back in the days, in high school, when you were given just 4 hours to write a splendid essay but you didnâ€™t know where to start, feeling afraid of the blank page ?  </p>\n<p>Isnâ€™t it similar in software development when you get a new feature to implement, a new problem to solve or a bug to fix? How do I find a solution to the given problem? How can I be sure that itâ€™s a good solution and it actually does what we expect it to do ?</p>\n<p>Also, just like we want the essay to be splendid, our ultimate goal is to provide clean, robust, consistent solution. Easier said than done I hear, but it is our goal anyway!</p>\n<h3 id=\"-before-coding\"><a href=\"#-before-coding\" aria-label=\" before coding permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ’­ Before coding</h3>\n<p>Before getting started, there are few questions I ask myself. Whatâ€™s the input? Whatâ€™s the action to perform? Whatâ€™s the expected output or observable changes in my system? If we think about it, those are exactly the three parts of a test. So starting by writing a test might help. I initially did not want to use the term â€˜testingâ€™ but youâ€™ve guessed it so I wonâ€™t beat around the bush.</p>\n<p>In this post I am going to talk about TDDâ€”Test Driven Developmentâ€”as itâ€™s one of the way I often use to approch a task, problem.</p>\n<h3 id=\"-red-green-factor\"><a href=\"#-red-green-factor\" aria-label=\" red green factor permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸš¦ Red-Green factor</h3>\n<p>First let me quote the three rules of TDD defined by Uncle Bob:</p>\n<ul>\n<li>You are not allowed to write any production code unless it is to make a failing unit test pass.</li>\n<li>You are not allowed to write any more of a unit test than is sufficient to fail; and compilation failures are failures.</li>\n<li>You are not allowed to write any more production code than is sufficient to pass the one failing unit test.</li>\n</ul>\n<p>Those rules may look a bit <em>strict</em> and following them may not be natural at first. But let me tell you: <strong>itâ€™s a discipline!</strong></p>\n<p>I realized it the day I was pair-programming with my mate. There was that new feature, not very complex, we decided to write it in TDD. Letâ€™s say it is calculating a median.</p>\n<p><em>We first need sort the <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">n</span></span></span></span> items, if I have an odd number of items then we take the middle one otherwise we take the mean of the two middle values. Easy peasy!</em> I thought.</p>\n<p>The algorithm in mind and the keyboard on hand, I was ready to code.\nI jumped right into the implementation when my friend said, â€œWaitâ€¦ what are you doing?â€ </p>\n<p>â€œHmm I am writing the code for the new featureâ€¦â€ I said, proud of me.</p>\n<p>â€œWe should start by writing a failing testâ€ he was looking at me smiling, â€œDelete that code you just wrote.â€ </p>\n<p>Indeed, there was no â€˜redâ€™ testâ€¦ Yet thatâ€™s actually the first step of TDD.  And each time I wanted to code the whole feature in one goâ€”without the goal of making a failing test passâ€”my friend was there to remind me not to do so.</p>\n<p>The â€˜ritualâ€™ is:</p>\n<ul>\n<li>Write a failing test </li>\n<li>Make that test pass </li>\n<li>Make it clean, refactor your code while keeping the tests green </li>\n</ul>\n<p>â†º Repeat!</p>\n<p>The red-green transition is very important. It means the code weâ€™ve just written is responsible of making the test pass. The test is hooked correctly! When the code breaks, so do the test. Thatâ€™s also exactly the purpose of a <strong>good test</strong>.</p>\n<p>So remember one thing: <strong>all begin with a red test</strong>.</p>\n<h3 id=\"-the-fun\"><a href=\"#-the-fun\" aria-label=\" the fun permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¯ The Fun</h3>\n<p>Itâ€™s such a satisfaction seeing a test going from red to green. You canâ€™t imagine! Almost as much as seeing a whole feature completed.\nExcept that to feel the joy, we donâ€™t need to wait for 1 dayâ€¦ 1 month or whatever. Baby step!</p>\n<p><figure><img src=\"/test_pass-9fdf8ebba9c9e4951a9ce6de091f9cb1.gif\"><figcaption>Making the test pass is rewarding</figcaption></figure></p>\n<p>Ever being asked to write test â€˜laterâ€™?\nFirst, how can you be sure what youâ€™ll do â€˜laterâ€™ will actually tests your code ? The implementation is working anyway\nSecondly itâ€™s not fun! </p>\n<p>When that â€˜laterâ€™ comes, youâ€™re feeling desperate becauseâ€¦ itâ€™s not fun!!\nWhere is the satisfaction of writting something â€œjust becauseâ€ without any other purpose. </p>\n<p>The code is working anyway.  So what might happen is that the test might not fail when the code is actually broken. Or the test will fail whenever you refactor your code without whanging its behaviour. In this case, that test is not usefull and it will even slow down your development  processs. Touching the code becomes a pain. So not only itâ€™s useless but they are harming. Those tests are bad.\nIâ€™ve noticed itâ€™s a lot easier to write bad test afterward.\nDoing TDD makes programming more fun to me.</p>","frontmatter":{"title":"A way to approach a problem","date":"January 31, 2019","spoiler":"Gonna talk about tdd","thumbnail":null},"fields":{"slug":"/tdd/"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/tdd/","previous":{"fields":{"slug":"/git-rebase/"},"frontmatter":{"title":"Demystify git rebase with animations","draft":null}},"next":{"fields":{"slug":"/fp-basics/"},"frontmatter":{"title":"Basics of Functional Programming","draft":true}}}}