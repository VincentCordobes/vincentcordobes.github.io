<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.4a0e1ab1d4b9e3dcf8a3.css">*,:after,:before{box-sizing:border-box}body{color:#3d3d3d;font-family:Noto Sans,sans-serif;font-size:1rem;line-height:1.55;text-rendering:optimizeLegibility;margin:0 auto;padding:20px;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-webkit-hyphens:auto;hyphens:auto;text-align:justify;text-justify:distribute}a{color:#0366d6;text-decoration:none}a:hover{text-decoration:underline}p{margin:0 0 1em}#layout{max-width:42rem;margin-left:auto;margin-right:auto}@media (min-width:1024px){#layout{max-width:48rem}#container{width:87.5%}}h1,h2,h3,h4{line-height:normal;margin:0;font-weight:500}h1{font-size:2em}h2,h3,h4{margin-top:1.5em;margin-bottom:.5em}h2{font-size:1.5em}h3{font-size:1.25em}h4{font-size:1.05em}ol,ul{padding-left:0;margin:5px 0 1em;list-style-type:none}ol>li,ul>li{text-indent:0;margin:.3em 0}p+ol,p+ul{margin-top:-.7em}ol{list-style-type:decimal}hr{background-color:#e1e4e8;border:0;height:1px;margin:24px 0;padding:0}.vim-cursor{display:inline-block;background-color:#5f5f5e;color:#fff;margin-bottom:-5px;margin-left:3px;width:10px;height:18px}blockquote{margin:1.5em 0 1.5em 1.8em;color:#5a5a5a;position:relative;font-style:italic}blockquote:before{font-family:georgia,serif;font-size:3.6em;position:absolute;content:"\201C";line-height:1em;font-style:normal;left:-.5em;top:0}cite{display:block;text-align:right;color:#3d3d3d}cite:before{content:"\2014   "}table{border:2px solid #000;border-right:none;border-left:none;border-collapse:collapse;min-width:100%;margin:2em auto}@media (min-width:576px){table{min-width:20rem}}td,th{padding:5px 10px;text-align:left}th{border-bottom:1px solid #000}.mono{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace}#post-list .date{color:#aaa}figure{margin:0 0 1.4em}#blog-post figure{margin-top:1.4em}figcaption:before{font-variant:small-caps;content:"Figure \2013   "}figcaption{text-align:center;margin-top:1em;margin-bottom:1.4em}iframe{border:none;width:1px;min-width:100%;margin:0 auto 1em}img{max-width:100%;display:block;margin:0 auto}strong{font-weight:500}.katex-display{overflow-x:auto;overflow-y:hidden}code[class*=language-],pre[class*=language-]{color:#333;background:none;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;tab-size:8;-webkit-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#fafafa;border:1px solid #eee}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-makefile .token.symbol,.language-markdown .token.url{color:#795da3}.language-makefile .token.variable{color:#183691}.language-bash .token.keyword,.language-makefile .token.builtin{color:#0086b3}code{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace}:not(pre)>code[class*=language-],pre[class*=language-]{font-size:.9em}.gatsby-highlight pre[class*=language-]:before{background:#ddd;border-radius:0 0 4px 4px;font-size:.75rem;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;letter-spacing:.075em;line-height:1;padding:.25rem .5rem;position:absolute;right:1.5rem;text-align:right;top:0}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}#blog-post nav>ul{padding:0}#blog-post-content ol,#blog-post-content ul{padding-left:1.5em}#blog-post-content ul>li{list-style-type:disc}#blog-post-footer{display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0}.author{font-size:16px}</style><meta name="generator" content="Gatsby 2.25.0"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" title="Vincent Cordobes feed" href="/rss.xml"/><title data-react-helmet="true">A way to approach a problem | Vincent Cordobes</title><link data-react-helmet="true" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous"/><meta data-react-helmet="true" name="description" content="My take on TDD"/><meta data-react-helmet="true" property="og:title" content="A way to approach a problem"/><meta data-react-helmet="true" property="og:description" content="My take on TDD"/><meta data-react-helmet="true" property="og:site_name" content="Vincent Cordobes"/><meta data-react-helmet="true" property="og:image"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:url" content="https://vincentcordobes.github.io/tdd/"/><meta data-react-helmet="true" name="twitter:title" content="A way to approach a problem"/><meta data-react-helmet="true" name="twitter:description" content="My take on TDD"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:site" content="@VincentCordobes"/><meta data-react-helmet="true" name="twitter:creator" content="@VincentCordobes"/><meta data-react-helmet="true" name="twitter:image"/><meta data-react-helmet="true" name="google-site-verification" content="kjM2mfXvQ9XJ7BqEPTHNHWZ62wJsC5G_GtuPX1oy0EY"/><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","headline":"A way to approach a problem","name":"A way to approach a problem","image":"https://vincentcordobes.github.ioundefined","publisher":{"@type":"Organization","name":"Vincent Cordobes","logo":{"@type":"ImageObject","url":"https://vincentcordobes.github.io/favicon.ico"}},"author":{"@type":"Person","name":"Vincent Cordobes"},"datePublished":"January 31, 2019","description":"My take on TDD","thumbnailUrl":"https://vincentcordobes.github.ioundefined","mainEntityOfPage":{"@type":"WebSite","@id":"https://vincentcordobes.github.io"}}</script><link as="script" rel="preload" href="/webpack-runtime-72de88fe95d35025783a.js"/><link as="script" rel="preload" href="/framework-a2e3f9c08bd6339288a1.js"/><link as="script" rel="preload" href="/app-72eb6a641e0d06be31c2.js"/><link as="script" rel="preload" href="/styles-f3e9059f8c2a75df70f2.js"/><link as="script" rel="preload" href="/48e81529f75ed49003aca8542e24ba2d1f1103f6-0061017219faf4bd2699.js"/><link as="script" rel="preload" href="/cd7d5f864fc9e15ed8adef086269b0aeff617554-0190d145c4a2e820273e.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-c5c5ec700e1b8e426832.js"/><link as="fetch" rel="preload" href="/page-data/tdd/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/336482444.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div id="layout"><div id="container"><div id="blog-post"><header><nav><ul><li><a rel="home" href="/">Home</a></li></ul></nav></header><h1>A way to approach a problem</h1><p><small class="mono">January 31, 2019</small></p><div id="blog-post-content"><p>Do you remember back in the days, in high school, when you were given just 4 hours to write a splendid essay but you didn’t know where to start, feeling afraid of the blank page?</p>
<p>Isn’t it similar in software development when you get a new feature to implement, a new problem to solve or a bug to fix? How do we find a solution to the given problem? How to be sure that it’s a good solution and it actually does what we expect it to do?</p>
<p>Also, just like we want the essay to be splendid, our ultimate goal is to write reliable and maintainable code. Easier said than done, I hear, yet it is our goal.</p>
<h3 id="-before-coding" style="position:relative;"><a href="#-before-coding" aria-label=" before coding permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>💭 Before coding</h3>
<p>Before getting started, there are few questions I ask myself. What’s the input? What’s the action to perform? What’s the expected output or observable changes in my system? If we think about it, those are exactly the three parts of a test. So starting by writing a test might help. I initially did not want to use the term ‘testing’ but you’ve guessed it so I won’t beat around the bush.</p>
<p>In this post I am going to talk about TDD—Test Driven Development—as it’s one of the way I often use to approch a task, problem.</p>
<h3 id="-red-green-factor" style="position:relative;"><a href="#-red-green-factor" aria-label=" red green factor permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🚦 Red-Green factor</h3>
<p>First let me quote the three rules of TDD defined by Uncle Bob:</p>
<ul>
<li>You are not allowed to write any production code unless it is to make a failing unit test pass.</li>
<li>You are not allowed to write any more of a unit test than is sufficient to fail; and compilation failures are failures.</li>
<li>You are not allowed to write any more production code than is sufficient to pass the one failing unit test.</li>
</ul>
<p>These rules may look a bit strict and following them may not be natural at first. But let me tell you: <strong>it’s a discipline!</strong></p>
<p>I realized it the day I was pair-programming with my mate. There was a new feature—not very complex per se—we decided to write in TDD. Let’s say it was about calculating a median of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> values.</p>
<p><em>We first have to sort the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> values. If we have an odd number of items then we take the middle one, otherwise we take the mean of the two middle values. Easy peasy,</em> I thought.</p>
<p>The algorithm in mind and the keyboard on hand, I was ready to code.
I jumped right into the implementation when my friend said, “Wait… what are you doing?”</p>
<p>“Hmm I am writing the code for the new feature…” I said, proud of me.</p>
<p>“Where is the red test?” he was looking at me smiling, “Delete that code you just wrote!”</p>
<p>So I obeyed like a docile Alaskan husky. My friend was right, there was no failing test. Yet, it’s the first step of TDD. After that, each time I couldn’t resist coding the whole feature in one go—without the goal of making a failing test pass—my mate was there to remind me not to do so.</p>
<p>The ‘ritual’ is:</p>
<ul>
<li>Write a failing test</li>
<li>Make that test pass</li>
<li>Make it clean, refactor your code while keeping the tests green</li>
</ul>
<p>↺ Repeat!</p>
<p>The red-green transition is very important. The code we just wrote is responsible of making the test pass. It means the test is hooked correctly. When the code breaks, so do the test. This is exactly the purpose of a <strong>good test</strong>.</p>
<p>So remember one thing: <strong>all begin with a red test</strong>.</p>
<h3 id="-the-fun" style="position:relative;"><a href="#-the-fun" aria-label=" the fun permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>🎯 The Fun</h3>
<p>It’s such a satisfaction seeing a test going from red to green. Almost as much as seeing a whole feature working as expected.
We get a much quicker feedback—no need to wait for days, months or whatever. It’s all baby step!</p>
<p><figure><img src="/9fdf8ebba9c9e4951a9ce6de091f9cb1/test_pass.gif"><figcaption>Making the test pass is rewarding</figcaption></figure></p>
<p>It helps a lot to break down a problem. </p>
<hr>
<p>“You will write tests later!” have you ever been told this?</p>
<p>First, how can we be sure that what we will do ‘later’ will actually tests your code? The implementation is working anyway.</p>
<p>Secondly it’s not fun!</p>
<p>When that ‘later’ comes, you’re feeling desperate because… it’s not fun!!
Where is the satisfaction of writting something “just because” without any other purpose.</p>
<p>The code is working anyway. So what might happen is that the test might not fail when the code is actually broken. Or the test will fail whenever you refactor your code without whanging its behaviour. In this case, that test is not usefull and it will even slow down your development processs. Touching the code becomes a pain. So not only it’s useless but they are harming. Those tests are bad.
I’ve noticed it’s a lot easier to write bad test afterward.
Doing TDD makes programming more fun to me.</p></div><div><span style="font-size:0"></span><div class="vim-cursor"></div></div><hr/><ul id="blog-post-footer"><li><a rel="prev" href="/git-rebase/">← <!-- -->Demystify git rebase with animations</a></li><li></li></ul></div><div class="author">Written by <strong>Vincent Cordobes</strong></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-125838540-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/tdd/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-23f6d6e6adee02dd344a.js"],"app":["/app-72eb6a641e0d06be31c2.js"],"component---src-pages-404-js":["/component---src-pages-404-js-32db7d54c45afcf0f1f6.js"],"component---src-pages-activities-js":["/component---src-pages-activities-js-7aace83c14cd7877ac0d.js"],"component---src-pages-git-js":["/component---src-pages-git-js-3c1393908f1a709822a6.js"],"component---src-pages-git-rebase-figure-1-js":["/component---src-pages-git-rebase-figure-1-js-18420b46684700fc90e4.js"],"component---src-pages-git-rebase-figure-2-js":["/component---src-pages-git-rebase-figure-2-js-cd209d8509cec01c4d05.js"],"component---src-pages-git-rebase-figure-3-js":["/component---src-pages-git-rebase-figure-3-js-2a7a493fd22339278db3.js"],"component---src-pages-index-js":["/component---src-pages-index-js-3de5c99ff177fcd23123.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-c5c5ec700e1b8e426832.js"]};/*]]>*/</script><script src="/polyfill-23f6d6e6adee02dd344a.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-c5c5ec700e1b8e426832.js" async=""></script><script src="/cd7d5f864fc9e15ed8adef086269b0aeff617554-0190d145c4a2e820273e.js" async=""></script><script src="/48e81529f75ed49003aca8542e24ba2d1f1103f6-0061017219faf4bd2699.js" async=""></script><script src="/styles-f3e9059f8c2a75df70f2.js" async=""></script><script src="/app-72eb6a641e0d06be31c2.js" async=""></script><script src="/framework-a2e3f9c08bd6339288a1.js" async=""></script><script src="/webpack-runtime-72de88fe95d35025783a.js" async=""></script></body></html>